{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue?02bb","webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?edea"],"names":["class","for","show","error","isLoading","title","handleError","fixed","submitForm","type","id","email","password","formIsValid","submitButtonCaption","mode","switchAuthMode","switchModeButtonCaption","data","computed","this","methods","signup","login","includes","lenght","actionPayload","message","render","__scopeId"],"mappings":"kHAAA,W,wICcaA,MAAM,gB,EACT,eAAiC,SAA1BC,IAAI,SAAQ,UAAM,G,GAGtBD,MAAM,gB,EACT,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,qNAlBtC,eA+BM,YA9BJ,eAMc,GALXC,OAAQ,EAAAC,QAAU,EAAAC,UACnBC,MAAM,mBACL,QAAO,EAAAC,a,YAER,iBAAkB,CAAlB,eAAkB,wBAAZ,EAAAH,OAAK,O,2BAEb,eAEc,GAFAD,KAAM,EAAAE,UAAWC,MAAM,oBAAoBE,MAAA,I,YACvD,iBAA6B,CAA7B,eAA6B,O,iBAE/B,eAmBY,Q,WAlBV,iBAiBO,CAjBP,eAiBO,QAjBA,SAAM,8CAAU,EAAAC,YAAA,EAAAA,WAAA,qBAAU,e,CAC/B,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAsD,SAA/CC,KAAK,QAAQC,GAAG,Q,qDAAsB,EAAAC,MAAK,K,mBAAL,EAAAA,W,SAAd,QAEjC,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAA0D,SAAnDF,KAAK,WAAWC,GAAG,W,qDAAoB,EAAAE,SAAQ,K,mBAAR,EAAAA,cAEtC,EAAAC,Y,wCAAV,eAGI,MAHmB,oFAIvB,eAAoD,Q,WAAvC,iBAAyB,C,8BAAtB,EAAAC,qBAAmB,O,MACnC,eAEgB,GAFHL,KAAK,SAASM,KAAK,OAAQ,QAAO,EAAAC,gB,YAAgB,iBAE7D,C,8BADA,EAAAC,yBAAuB,O,4GAUlB,GACbC,KADa,WAEX,MAAO,CACLP,MAAO,GACPC,SAAU,GACVC,aAAa,EACbE,KAAM,QACNX,WAAW,EACXD,MAAO,OAGXgB,SAAU,CACRL,oBADQ,WAEN,MAAkB,UAAdM,KAAKL,KACA,QAEA,UAGXE,wBARQ,WASN,MAAkB,UAAdG,KAAKL,KACA,iBAEA,iBAIbM,QAAS,iCACJ,eAAW,CACZC,OAAQ,SACRC,MAAO,WAHJ,IAKCf,WALC,WAKY,iKAEA,KAAf,EAAKG,OACJ,EAAKA,MAAMa,SAAS,QACrB,EAAKZ,SAASa,OAAS,GAJR,uBAMf,EAAKZ,aAAc,EANJ,6BAUXa,EAAgB,CACpBf,MAAO,EAAKA,MACZC,SAAU,EAAKA,UAGjB,EAAKR,WAAY,EAfA,SAiBG,UAAd,EAAKW,KAjBM,iCAkBP,EAAKQ,MAAMG,GAlBJ,gDAoBP,EAAKJ,OAAOI,GApBL,6DAwBf,EAAKvB,MACH,KAAMwB,SAAW,iDAzBJ,QA2BjB,EAAKvB,WAAY,EA3BA,6DA6BnBY,eAlCO,WAmCa,UAAdI,KAAKL,KACPK,KAAKL,KAAO,SAEZK,KAAKL,KAAO,SAGhBT,YAzCO,WA0CLc,KAAKjB,MAAQ,S,UCtGnB,EAAOyB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"js/chunk-77da0ab7.71c1bbce.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserAuth.vue?vue&type=style&index=0&id=1c435188&scoped=true&lang=css\"","<template>\n  <div>\n    <base-dialog\n      :show=\"!!error && !isLoading\"\n      title=\"An error occured\"\n      @close=\"handleError\"\n    >\n      <p>{{ error }}</p>\n    </base-dialog>\n    <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\n      <base-spinner></base-spinner>\n    </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\">E-Mail</label>\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" v-model=\"password\" />\n        </div>\n        <p v-if=\"!formIsValid\">\n          Please enter a valid email and password (must be at least 6 characters\n          long).\n        </p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\n          switchModeButtonCaption\n        }}</base-button>\n      </form>\n    </base-card>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      formIsValid: true,\n      mode: 'login',\n      isLoading: false,\n      error: null\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Login';\n      } else {\n        return 'Signup';\n      }\n    },\n    switchModeButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Signup instead';\n      } else {\n        return 'Login insted';\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      signup: 'signup',\n      login: 'login'\n    }),\n    async submitForm() {\n      if (\n        this.email === '' ||\n        !this.email.includes('@') ||\n        this.password.lenght < 6\n      ) {\n        this.formIsValid = false;\n        return;\n      }\n\n      const actionPayload = {\n        email: this.email,\n        password: this.password\n      };\n\n      this.isLoading = true;\n      try {\n        if (this.mode === 'login') {\n          await this.login(actionPayload);\n        } else {\n          await this.signup(actionPayload);\n        }\n        // this.$router.replace('/coaches') // This is now being hadled in the actions.js file\n      } catch (error) {\n        this.error =\n          error.message || 'Failed to authenticate, check your login data.';\n      }\n      this.isLoading = false;\n    },\n    switchAuthMode() {\n      if (this.mode === 'login') {\n        this.mode = 'signup';\n      } else {\n        this.mode = 'login';\n      }\n    },\n    handleError() {\n      this.error = null;\n    }\n  }\n};\n</script>\n\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>\n","import { render } from \"./UserAuth.vue?vue&type=template&id=1c435188&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=1c435188&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1c435188\"\n\nexport default script"],"sourceRoot":""}